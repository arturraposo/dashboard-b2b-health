{"version":3,"sources":["webpack:///src/app/pages/login/login.component.html","webpack:///src/app/pages/login/login-routing.module.ts","webpack:///src/app/pages/login/login.component.scss","webpack:///src/app/pages/login/login.component.ts","webpack:///src/app/pages/login/login.module.ts"],"names":["routes","path","component","LoginRoutingModule","imports","forChild","exports","LoginComponent","formBuilder","alertHelper","authService","router","loading","unsubscribe$","formGroup","group","email","required","password","next","complete","emailControl","get","passwdControl","value","toast","status","authenticate","pipe","subscribe","navigate","error","selector","template","LoginModule","declarations"],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["export default \"<div class=\\\"sign-in-from\\\">\\n  <h1 class=\\\"mb-0\\\">Login</h1>\\n  <p>Entre com seu endereço de e-mail e senha para acessar o painel administrativo.</p>\\n  <form class=\\\"mt-4\\\" [formGroup]=\\\"formGroup\\\" (ngSubmit)=\\\"login()\\\">\\n    <div class=\\\"form-group\\\">\\n      <label for=\\\"email\\\">E-mail</label>\\n      <input type=\\\"email\\\" class=\\\"form-control mb-0\\\" id=\\\"email\\\" placeholder=\\\"Email\\\" maxlength=\\\"255\\\"\\n        formControlName=\\\"email\\\">\\n    </div>\\n    <div class=\\\"form-group\\\">\\n      <label for=\\\"password\\\">Senha</label>\\n      <input type=\\\"password\\\" class=\\\"form-control mb-0\\\" id=\\\"password\\\" placeholder=\\\"Senha\\\" maxlength=\\\"255\\\"\\n        formControlName=\\\"password\\\">\\n    </div>\\n    <div class=\\\"d-inline-block w-100\\\">\\n      <span class=\\\"d-inline-block mt-1\\\">\\n        <a href=\\\"javascript:void(0);\\\" class=\\\"float-right\\\">Esqueceu sua senha?</a>\\n      </span>\\n      <app-button\\n        type=\\\"submit\\\"\\n        class=\\\"float-right\\\"\\n        [loading]=\\\"loading\\\">\\n        Entrar\\n      </app-button>\\n    </div>\\n  </form>\\n</div>\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule { }","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { AlertHelper } from 'src/app/helpers/alert.helper';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n  public formGroup: FormGroup;\r\n  public loading: boolean = false;\r\n  private unsubscribe$: Subject<void> = new Subject();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private alertHelper: AlertHelper,\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  public ngOnInit(): void {\r\n    this.formGroup = this.formBuilder.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n\r\n  public login(): void {\r\n    const emailControl = this.formGroup.get('email');\r\n    const passwdControl = this.formGroup.get('password');\r\n\r\n    if (!emailControl.value || !passwdControl.value) {\r\n      this.alertHelper.toast('error', 'E-mail e senha são obrigatórios');\r\n    }\r\n    else if (emailControl.value && emailControl.status === 'INVALID') {\r\n      this.alertHelper.toast('error', 'Informe um e-mail válido');\r\n    }\r\n    else {\r\n      this.loading = true;\r\n      this.authService.authenticate(emailControl.value, passwdControl.value)\r\n        .pipe(takeUntil(this.unsubscribe$))\r\n        .subscribe({\r\n          next: () => {\r\n            this.loading = false;\r\n            this.router.navigate(['/dashboard']); \r\n          },\r\n          error: () => {\r\n            this.loading = false;\r\n            this.alertHelper.toast('error', 'E-mail e/ou senha inválidos');\r\n          }\r\n        });\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoginComponent } from './login.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\n\r\n@NgModule({\r\n  declarations: [LoginComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LoginRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    ComponentsModule\r\n  ]\r\n})\r\nexport class LoginModule { }\r\n"]}