{"version":3,"sources":["webpack:///src/app/pages/empresas/empresas.component.html","webpack:///src/app/pages/empresas/empresas-routing.module.ts","webpack:///src/app/pages/empresas/empresas.component.scss","webpack:///src/app/pages/empresas/empresas.component.ts","webpack:///src/app/pages/empresas/empresas.module.ts"],"names":["routes","path","component","EmpresasRoutingModule","imports","forChild","exports","EmpresasComponent","empresaService","alertHelper","loading","unsubscribe$","loadEmpresas","next","complete","empresa","show","nome_empresa","showCancelButton","then","confirmed","pipe","subscribe","empresas","filter","c","id","error","list","selector","template","EmpresasModule","declarations"],"mappings":"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","file":"pages-empresas-empresas-module-es5.js","sourcesContent":["export default \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-lg-12\\\">\\r\\n    <app-card [loading]=\\\"loading\\\">\\r\\n      <div class=\\\"d-flex justify-content-between align-items-center\\\" header>\\r\\n        <h4>Empresas</h4>\\r\\n        <app-button color=\\\"primary\\\" rounded=\\\"pill\\\" routerLink=\\\"/empresa/cadastro\\\">\\r\\n          <i class=\\\"ri-add-line mr-1\\\"></i> Nova Empresa\\r\\n        </app-button>\\r\\n      </div>\\r\\n      <div body>\\r\\n        <div class=\\\"table-responsive\\\">\\r\\n          <table class=\\\"table table-striped table-borderless\\\">\\r\\n            <thead>\\r\\n              <tr>\\r\\n                <th scope=\\\"col\\\">Logo</th>\\r\\n                <th scope=\\\"col\\\">Empresa</th>\\r\\n                <th scope=\\\"col\\\">Nome Fantasia</th>\\r\\n                <th scope=\\\"col\\\">CNPJ</th>\\r\\n                <th scope=\\\"col\\\">Telefone</th>\\r\\n                <th scope=\\\"col\\\">E-mail</th>\\r\\n                <th scope=\\\"col\\\"></th>\\r\\n              </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n              <tr *ngFor=\\\"let empresa of empresas; let i=index\\\">\\r\\n                <td class=\\\"align-middle\\\">\\r\\n                  <img [src]=\\\"empresa.logo\\\" height=\\\"50px\\\"  alt=\\\"Logo da empresa\\\">\\r\\n                </td>\\r\\n                <td class=\\\"align-middle\\\">{{ empresa.nome_empresa }}</td>\\r\\n                <td class=\\\"align-middle\\\">{{ empresa.nome_fantasia }}</td>\\r\\n                <td class=\\\"align-middle\\\">{{ empresa.cnpj }}</td>\\r\\n                <td class=\\\"align-middle\\\">{{ empresa.fone }}</td>\\r\\n                <td class=\\\"align-middle\\\">{{ empresa.email }}</td>\\r\\n                <td class=\\\"align-middle\\\">\\r\\n                  <div class=\\\"d-flex\\\">\\r\\n                    <app-button class=\\\"mx-1\\\" color=\\\"primary\\\" size=\\\"small\\\" rounded=\\\"circle\\\" [routerLink]=\\\"['/empresa', empresa.id]\\\">\\r\\n                      <i class=\\\"ri-edit-box-line\\\"></i>\\r\\n                    </app-button>\\r\\n                    <app-button class=\\\"mx-1\\\" color=\\\"primary\\\" size=\\\"small\\\" rounded=\\\"circle\\\" (click)=\\\"destroy(empresa)\\\">\\r\\n                      <i class=\\\"ri-delete-bin-line\\\"></i>\\r\\n                    </app-button>\\r\\n                  </div>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr *ngIf=\\\"empresas?.length == 0\\\">\\r\\n                <td colspan=\\\"7\\\" class=\\\"text-center\\\">Nenhuma empresa encontrada</td>\\r\\n              </tr>\\r\\n            </tbody>\\r\\n          </table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </app-card>\\r\\n  </div>\\r\\n</div>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { EmpresasComponent } from './empresas.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EmpresasComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EmpresasRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2VtcHJlc2FzL2VtcHJlc2FzLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { AlertHelper } from 'src/app/helpers/alert.helper';\r\nimport { Empresa } from 'src/app/models/empresa';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { EmpresaService } from 'src/app/services/empresa.service';\r\n\r\n@Component({\r\n  selector: 'app-empresas',\r\n  templateUrl: './empresas.component.html',\r\n  styleUrls: ['./empresas.component.scss']\r\n})\r\nexport class EmpresasComponent implements OnInit, OnDestroy {\r\n  public loading: boolean = false;\r\n  public empresas?: Empresa[];\r\n  private unsubscribe$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private empresaService: EmpresaService,\r\n    private alertHelper: AlertHelper\r\n  ) { }\r\n\r\n  public ngOnInit(): void {\r\n    this.loadEmpresas();\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n\r\n  public destroy(empresa: Empresa): void {\r\n    this.alertHelper.show(\r\n      'warning',\r\n      `Tem certeza que deseja remover a empresa ${empresa.nome_empresa}?`,\r\n      { showCancelButton: true }\r\n    )\r\n    .then(confirmed => {\r\n      if (confirmed) {\r\n        this.loading = true;\r\n        this.empresaService.delete(empresa)\r\n          .pipe(takeUntil(this.unsubscribe$))\r\n          .subscribe({\r\n            next: () => {\r\n              this.loading = false;\r\n              this.empresas = this.empresas.filter(c => c.id != empresa.id);\r\n            },\r\n            error: () => {\r\n              this.loading = false;\r\n            }\r\n          });\r\n      }\r\n    })\r\n  }\r\n\r\n  private loadEmpresas(): void {\r\n    this.loading = true;\r\n    this.empresaService.list()\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe({\r\n        next: (empresas) => {\r\n          this.loading = false;\r\n          this.empresas = empresas;\r\n        },\r\n        error: () => {\r\n          this.loading = false;\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { EmpresasRoutingModule } from './empresas-routing.module';\r\nimport { EmpresasComponent } from './empresas.component';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\n\r\n@NgModule({\r\n  declarations: [EmpresasComponent],\r\n  imports: [\r\n    CommonModule,\r\n    EmpresasRoutingModule,\r\n    ComponentsModule\r\n  ]\r\n})\r\nexport class EmpresasModule { }\r\n"]}